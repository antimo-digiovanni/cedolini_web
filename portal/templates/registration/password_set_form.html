{% extends "portal/base.html" %}
{% block title %}Imposta nuova password{% endblock %}

{% block content %}
<div class="container" style="max-width: 560px;">
  <div class="card card-custom p-4">
    <h3 class="mb-2">Imposta una nuova password</h3>
    <p class="text-muted mb-3">Inserisci solo la nuova password e confermala.</p>

    {% if form.non_field_errors %}
      <div class="alert alert-danger">{{ form.non_field_errors }}</div>
    {% endif %}

    <form method="post">
      {% csrf_token %}

      <div class="mb-3">
        <label class="form-label">Nuova password</label>
        {{ form.new_password1 }}
        {% if form.new_password1.errors %}<div class="text-danger">{{ form.new_password1.errors }}</div>{% endif %}
      </div>

      <div class="mb-3">
        <label class="form-label">Conferma nuova password</label>
        {{ form.new_password2 }}
        {% if form.new_password2.errors %}<div class="text-danger">{{ form.new_password2.errors }}</div>{% endif %}
      </div>

      <button class="btn btn-dark w-100" type="submit">Salva password</button>
    </form>
  </div>
</div>

<script>
  document.querySelectorAll("input").forEach(i => i.classList.add("form-control"));
</script>
{% endblock %}